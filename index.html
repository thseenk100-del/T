<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ุชุญุณููู | ูููุงุช ุฅูุฌุงุฒ ูุฃุฏุงุก ูุธููู ูููุนูููู ูู ุงูุณุนูุฏูุฉ</title>

<meta name="description" content="ูุชุฌุฑ ุฎุฏูุงุช ุชุนููููุฉ ุงุญุชุฑุงููุฉ ูููุนูููู ูุงููุนููุงุช ูู ุงูุณุนูุฏูุฉ. ูููุงุช ุฅูุฌุงุฒุ ุฃุฏุงุก ูุธูููุ ูุฎุทุท ุชุนููููุฉ ูุน ุทูุจ ูุจุงุดุฑ ุนุจุฑ ูุงุชุณุงุจ.">
<meta name="keywords" content="ููู ุฅูุฌุงุฒ ูุนูู, ุณุฌู ุงูุฃุฏุงุก ุงููุธููู, ูููุงุช ูุงูุณ, ุฎุทุท ุนูุงุฌูุฉ, ุฎุฏูุงุช ุชุนููููุฉ ุงูุณุนูุฏูุฉ, ุณุฌู ุดูุงูุฏ ุงูุฃุฏุงุก">

<!-- Open Graph -->
<meta property="og:title" content="ุชุญุณููู | ูููุงุช ุฅูุฌุงุฒ ูุฃุฏุงุก ูุธููู ูููุนูููู">
<meta property="og:description" content="ุทูุจ ูููุงุช ุฅูุฌุงุฒ ูุณุฌูุงุช ุฃุฏุงุก ูุธููู ุจุงุญุชุฑุงููุฉ ูุชุณููู ุณุฑูุน ุนุจุฑ ูุงุชุณุงุจ.">
<meta property="og:image" content="https://thseenk100-del.github.io/T/images/hero.jpg">
<meta property="og:type" content="website">

<!-- Security -->
<meta http-equiv="Content-Security-Policy"
content="default-src 'self' https://wa.me https://fonts.googleapis.com https://fonts.gstatic.com; img-src 'self' data:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com;">

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/styles.css">
</head>

<body>

<header class="navbar">
  <div class="container nav-container">
    <div class="logo"><span>ุชุญุณููู</span></div>
    <nav class="nav-links">
      <a href="#">ุงูุฑุฆูุณูุฉ</a>
      <a href="#services">ุงูุฎุฏูุงุช</a>
      <a href="products.html">ููุงุฐุฌ ุงูุฃุนูุงู</a>
      <a href="contact.html">ุชูุงุตู ูุนูุง</a>
    </nav>
  </div>
</header>

<section class="hero" style="background:url('images/hero.jpg') center/cover no-repeat;">
  <div class="overlay"></div>
  <div class="hero-content">
    <h1>ูููุงุช ุฅูุฌุงุฒ ูุฃุฏุงุก ูุธููู ุงุญุชุฑุงููุฉ ูููุนูููู ูู ุงูุณุนูุฏูุฉ</h1>
    <p>ุงุฎุชุฑ ุฎุฏูุชู ูุงุทูุจูุง ุจุณูููุฉ ุนุจุฑ ูุงุชุณุงุจ</p>
  </div>
</section>

<section id="services">
  <div class="container">
    <div id="categoriesContainer"></div>
  </div>
</section>

<footer class="footer">
  <div class="copyright">
    ยฉ 2026 ุชุญุณููู - ุฌููุน ุงูุญููู ูุญููุธุฉ
  </div>
</footer>

<!-- CART -->
<div class="cart-box" onclick="toggleCart()">๐ ุงูุณูุฉ (<span id="cartCount">0</span>)</div>

<div class="cart-panel" id="cartPanel">
  <h3>ุณูุฉ ุงููุดุชุฑูุงุช</h3>
  <div id="cartItems"></div>
  <hr>
  <p><strong>ุงูุฅุฌูุงูู: <span id="cartTotal">0</span> ุฑูุงู</strong></p>
  <button onclick="sendOrder()">ุฅุฑุณุงู ุงูุทูุจ ุนุจุฑ ูุงุชุณุงุจ</button>
</div>

<!-- CART SCRIPT -->
<script defer>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function updateCart(){
  document.getElementById("cartCount").innerText = cart.length;
  let itemsHTML="";
  let total=0;
  cart.forEach((item)=>{
    total+=item.price;
    itemsHTML+=`<div class="cart-item">
      <span>${item.name}</span>
      <span>${item.price} ุฑูุงู</span>
    </div>`;
  });
  document.getElementById("cartItems").innerHTML=itemsHTML;
  document.getElementById("cartTotal").innerText=total;
  localStorage.setItem("cart",JSON.stringify(cart));
}

function toggleCart(){
  let panel=document.getElementById("cartPanel");
  panel.style.display=panel.style.display==="block"?"none":"block";
}

function sendOrder(){
  if(cart.length===0) return alert("ุงูุณูุฉ ูุงุฑุบุฉ");
  let message="ุทูุจ ุฌุฏูุฏ:%0A";
  let total=0;
  cart.forEach(item=>{
    message+=`${item.name} - ${item.price} ุฑูุงู%0A`;
    total+=item.price;
  });
  message+=`%0Aุงูุฅุฌูุงูู: ${total} ุฑูุงู`;
  window.open(`https://wa.me/966551961517?text=${message}`,"_blank");
}

updateCart();
</script>

<!-- PRODUCTS SCRIPT -->
<script defer>

fetch("data/products.json")
.then(res => res.json())
.then(products => {

  const container = document.getElementById("categoriesContainer");
  const categories = {};

  Object.entries(products).forEach(([id, product]) => {
    if (!categories[product.category]) categories[product.category] = [];
    categories[product.category].push({ id, ...product });
  });

  Object.entries(categories).forEach(([categoryName, items]) => {

    const section = document.createElement("div");

    section.innerHTML = `
      <div class="category-title">
        <h2>${categoryName}</h2>
      </div>

      <div class="slider-wrapper">
        <button class="scroll-btn right">โฎ</button>

        <div class="horizontal-scroll">
          ${items.map(item => `
            <div class="product-card">
              <img class="product-thumb"
                   data-id="${item.id}"
                   alt="${item.name}"
                   loading="lazy">
              <h3>${item.name}</h3>
              <div class="product-actions">
                <a href="product.html?id=${item.id}" class="btn-outline">ุนุฑุถ</a>
                <a href="https://wa.me/966551961517?text=ุงูุณูุงู ุนููููุ ุฃุฑุบุจ ุจุทูุจ ุฎุฏูุฉ ${item.name}"
                   target="_blank"
                   class="btn-solid">ุงุทูุจ ุงูุขู</a>
              </div>
            </div>
          `).join("")}
        </div>

        <button class="scroll-btn left">โฏ</button>
      </div>
    `;

    container.appendChild(section);
  });

  const observer = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        const img = entry.target;
        if(!img.dataset.started){
          startSlider(img);
          img.dataset.started="true";
        }
      }
    });
  },{threshold:0.5});

  document.querySelectorAll(".product-thumb").forEach(img=>{
    observer.observe(img);
  });

  document.querySelectorAll(".scroll-btn.left").forEach(btn=>{
    btn.addEventListener("click", function(){
      this.parentElement.querySelector(".horizontal-scroll")
      .scrollBy({left:300,behavior:"smooth"});
    });
  });

  document.querySelectorAll(".scroll-btn.right").forEach(btn=>{
    btn.addEventListener("click", function(){
      this.parentElement.querySelector(".horizontal-scroll")
      .scrollBy({left:-300,behavior:"smooth"});
    });
  });

});

function startSlider(img){

  const id = img.dataset.id;
  const basePath = `images/products/product${id}/`;

  const images = [
    `${basePath}1.webp`,
    `${basePath}2.webp`,
    `${basePath}3.jpg`,
    `${basePath}4.jpg`,
    `${basePath}5.jpg`
  ];

  img.src = images[0];

  let current = 0;

  setInterval(()=>{
    current = (current+1)%images.length;
    img.style.opacity=0;
    setTimeout(()=>{
      img.src = images[current];
      img.style.opacity=1;
    },200);
  },3500);
}

</script>

</body>
</html>
